<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- font style -->
    <link href='https://fonts.googleapis.com/css?family=Limelight' rel='stylesheet'>

    <!-- CSS -->
    <link rel="stylesheet" href="/css/common.css">

    <!-- pyscript -->
    <script type="module" src="https://pyscript.net/releases/2024.1.1/core.js"></script>

    <title>Mobie</title>
</head>

<body>
    <header>
        <h1><a href="index.html">Mobie</a></h1>
        <div id="functionableHeader">
            <div id="searchBar">
                <input type="text" id="movieInput" name="movieInput"
                    placeholder="Enter movie name or movie description here.">
                <button><a href="search.html"><img src="/image/searchImg.png" alt="Search Icon"></a></button>
            </div>

            <div id="profileHeader">
                <img id="profileImg" src="/image/profile_pop.png" alt="profile icon">
                <div id="headerDropDownBox" class="dropHeaderContent">
                    <a href="profile.html" style="margin-top: 15px;">Profile</a>
                    <hr>
                    <a href="signIn.html">Log Out</a>
                </div>
            </div>
        </div>
    </header>

    <div id="default_Recommend">
        {% for movie in movies_data %}
            <div class="movie-item">
                <!-- Display the image -->
                <img src="{{ movie['Poster_Link'] }}" alt="{{ movie['Series_Title'] }}" width="200" height="300">
                <!-- Display the title below the image -->
                <h3>{{ movie['Series_Title'] }}</h3>
            </div>
        {% endfor %}
    </div>

    <main>
        

        <script>
            // Open dropdown if the user hovers over the profile image
            document.getElementById("profileImg").addEventListener('mouseover', function () {
                document.getElementById("headerDropDownBox").style.display = "block";
            });

            document.addEventListener('click', function (event) {
                if (!event.target.closest('#profileHeader')) {
                    document.getElementById("headerDropDownBox").style.display = "none";
                }
            });
        </script>
    </main>

    <footer>
        <ul>
            <li><a href="https://www.twitter.com/" target="_blank"><img src="/image/twitter.png" alt="Twitter"></a></li>
            <li><a href="https://www.facebook.com/" target="_blank"><img src="/image/facebook.png" alt="Facebook"></a>
            </li>
            <li><a href="https://www.instagram.com/" target="_blank"><img src="/image/instagram.png"
                        alt="Instalgram"></a></li>
        </ul>
        <p>Â© 2024 Mobie All rights reserved.</p>
    </footer>
</body>

</html>